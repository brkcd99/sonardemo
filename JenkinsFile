currentBuild.displayName = "Final_Demo # "+currentBuild.number

   def getDockerTag(){
        def tag = sh script: 'git rev-parse HEAD', returnStdout: true
        return tag
        }
        



pipeline{
    agent any 
    stages {
         stage('build and sonarqube analysis'){
             steps {
                script {
                       withSonarQubeEnv('sonarqube'){
                         sh 'mvn clean package sonar:sonar' 
                }
             
           }
         stage('build and sonarqube analysis'){
             steps {
                script {
                       withSonarQubeEnv('sonarqube'){
                         sh 'mvn clean package sonar:sonar' 
                }
             
           }

            
       }
        
      }
    }
   }
  }
}